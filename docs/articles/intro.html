<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Photo2ARW">
<title>Prepare file for batch import into ARW • Photo2ARW</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare file for batch import into ARW">
<meta property="og:description" content="Photo2ARW">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Photo2ARW</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/intro.html">Prepare file for batch import into ARW</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nbelouard/Photo2ARW/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Prepare file for batch import into ARW</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nbelouard/Photo2ARW/blob/HEAD/vignettes/intro.Rmd" class="external-link"><code>vignettes/intro.Rmd</code></a></small>
      <div class="d-none name"><code>intro.Rmd</code></div>
    </div>

    
    
<p>This vignette shows how to create the database for uploading photos
in Batch Import mode into ARW. This vignette requires that you have a
folder that contains all the photos from a transect (or person) at a
date, and <em>only these photos, no other photos, no
subfolders.</em></p>
<p>There are two main steps: - Renaming the photos according to a code
(optional) - Create a data frame that will be imported into ARW Steps
where your input is needed are indicated.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>First setup the librairies. If you don’t have these libraries, you
can install them using “install.packages(”nameOfTheLibrary”)”</p>
</div>
<div class="section level2">
<h2 id="step-1--rename-the-photos">Step 1- Rename the photos<a class="anchor" aria-label="anchor" href="#step-1--rename-the-photos"></a>
</h2>
<div class="section level3">
<h3 id="option-a-photo-renamed-based-on-exif-data-photo-date-and-time-if-available">Option A: photo renamed based on EXIF data (photo date and time), if
available<a class="anchor" aria-label="anchor" href="#option-a-photo-renamed-based-on-exif-data-photo-date-and-time-if-available"></a>
</h3>
<p>The first step is to create a table that will keep track of the raw
photo name and the new photo name, in case we ever need to go back to
the initial photos. <em>The files are not renamed at this step</em></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED** </span></span>
<span><span class="co">#set the folder containing the photos to import</span></span>
<span><span class="va">pathToPhotos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>, <span class="st">"data"</span><span class="op">)</span></span>
<span><span class="co"># for this example, the path is set inside the package using here(). You may replace it with the full path to your photos, e.g.:</span></span>
<span><span class="co"># pathToPhotos &lt;- file.path("C:/Users/John/Downloads/BR_BR2_06112024")</span></span>
<span></span>
<span><span class="co">#get the list of the photos in this folder.</span></span>
<span><span class="op">(</span><span class="va">photoNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>rawPhotoNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">pathToPhotos</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>; <span class="va">nb_photos</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">photoNames</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>; <span class="kw">if</span> <span class="op">(</span><span class="va">nb_photos</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Error: no photos in this directory."</span><span class="op">)</span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">##   rawPhotoNames</span></span>
<span><span class="co">## 1     test1.jpg</span></span>
<span><span class="co">## 2     test2.jpg</span></span>
<span><span class="co">## 3     test3.jpg</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**Check that these are the expected photos*</span></span>
<span></span>
<span><span class="co">#extract the EXIF data and check that the photos contain the creation date</span></span>
<span><span class="va">listEXIF</span> <span class="op">&lt;-</span> <span class="fu">read_exif</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToPhotos</span>, <span class="va">photoNames</span><span class="op">$</span><span class="va">rawPhotoNames</span><span class="op">)</span><span class="op">)</span>; <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="st">"CreateDate"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">listEXIF</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Error: the photos do not have a CreateDate. You may rename the photos by alphabetical order using Option B below"</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">listEXIF</span><span class="op">$</span><span class="va">CreateDate</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Error: some of the photos do not have a CreateDate. You may rename the photos by alphabetical order using Option B below"</span><span class="op">)</span> </span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Photos are appropriate for automatic renaming based on CreateDate."</span><span class="op">)</span></span>
<span>    <span class="va">listEXIF</span> <span class="op">%&lt;&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">FileName</span>, <span class="va">CreateDate</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">arrange</span><span class="op">(</span><span class="va">CreateDate</span><span class="op">)</span> <span class="co"># sort the photos by CreateDate (chronological order)</span></span>
<span>      <span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Photos are appropriate for automatic renaming based on CreateDate."</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED** </span></span>
<span><span class="co">#determine the base code that you want to rename these photos with. The function will then increment a 3-digit number to each photo </span></span>
<span><span class="va">Code</span> <span class="op">=</span> <span class="st">"BR_BR2_06_11_2024"</span></span>
<span></span>
<span><span class="co">#create a table containing the raw and new photo names. </span></span>
<span><span class="op">(</span><span class="va">listEXIF</span> <span class="op">%&lt;&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>newPhotoName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">Code</span>, <span class="st">"_"</span>, <span class="fu">str_pad</span><span class="op">(</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span>, pad <span class="op">=</span> <span class="fl">0</span>,width <span class="op">=</span> <span class="fl">3</span> , <span class="st">"left"</span><span class="op">)</span>,<span class="st">"_ind.jpg"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span>rawPhotoName <span class="op">=</span> <span class="va">FileName</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">CreateDate</span>, <span class="va">rawPhotoName</span>, <span class="va">newPhotoName</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">##   CreateDate          rawPhotoName newPhotoName                 </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2024:11:05 22:03:53 test1.jpg    BR_BR2_06_11_2024_001_ind.jpg</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2024:11:05 22:05:22 test3.jpg    BR_BR2_06_11_2024_002_ind.jpg</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2024:11:05 22:07:37 test2.jpg    BR_BR2_06_11_2024_003_ind.jpg</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**Check that the new names are as expected.*</span></span>
<span><span class="co">#*</span></span>
<span><span class="co">#**INPUT NEEDED**</span></span>
<span><span class="co">#if everything is okay, store this table in a file to keep track of old and new photo names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">listEXIF</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"exports"</span>, <span class="st">"photoNames_BR_BR2_06_11_2024.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The second step is to actually rename the photos based on the codes
that were defined. For security reasons, the files will be copied to
another folder before being renamed, so that the original photo still
exists. <em>A copy of the photos will be renamed now</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED* </span></span>
<span><span class="co">#set the path to the folder where your photos will be put</span></span>
<span><span class="va">pathToFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>, <span class="st">"dataRenamed"</span><span class="op">)</span></span>
<span><span class="co"># for this example, the path is set inside the package using here(). You may replace it with the full path where your renamed photos will be, e.g.:</span></span>
<span><span class="co"># pathToFolder &lt;- file.path("C:/Users/John/Downloads/newFolder")</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToPhotos</span>, <span class="va">listEXIF</span><span class="op">$</span><span class="va">rawPhotoName</span><span class="op">)</span>, <span class="va">pathToFolder</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE TRUE TRUE</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.rename</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToFolder</span>, <span class="va">listEXIF</span><span class="op">$</span><span class="va">rawPhotoName</span><span class="op">)</span>,</span>
<span>              to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToFolder</span>, <span class="va">listEXIF</span><span class="op">$</span><span class="va">newPhotoName</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE TRUE TRUE</span></span></code></pre>
<p>Done! Go ahead and generate the table for ARW (step 2)</p>
</div>
<div class="section level3">
<h3 id="option-b-photo-renamed-by-alphabetical-order">Option B: Photo renamed by alphabetical order<a class="anchor" aria-label="anchor" href="#option-b-photo-renamed-by-alphabetical-order"></a>
</h3>
<p>In case you don’t have the EXIF data or don’t want to use it, you may
want to rename the photos in their current alphabetical order. Again,
first keep track of the raw and corrected names. <em>The files are not
renamed at this step</em></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED*</span></span>
<span><span class="co">#set the folder containing the photos to import</span></span>
<span><span class="va">pathToPhotos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>, <span class="st">"data"</span><span class="op">)</span></span>
<span><span class="co"># for this example, the path is set inside the package using here(). You may replace it with the full path to your photos, e.g.:</span></span>
<span><span class="co"># pathToPhotos &lt;- file.path("C:/Users/John/Downloads/BR_BR2_06112024")</span></span>
<span></span>
<span><span class="co">#get the list of the photos in this folder</span></span>
<span><span class="op">(</span><span class="va">photoNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>rawPhotoNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">pathToPhotos</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">##   rawPhotoNames</span></span>
<span><span class="co">## 1     test1.jpg</span></span>
<span><span class="co">## 2     test2.jpg</span></span>
<span><span class="co">## 3     test3.jpg</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**Check that these are the expected photos. The photos will be renamed in the order presented here.*</span></span>
<span></span>
<span><span class="co">#**INPUT NEEDED* </span></span>
<span><span class="co">#determine the base code that you want to rename these photos with. The function will then increment a 3-digit number to each photo </span></span>
<span><span class="va">Code</span> <span class="op">=</span> <span class="st">"BR_BR2_06_11_2024"</span></span>
<span></span>
<span><span class="co">#create a table containing the raw and new photo names. Check that everything is as expected.</span></span>
<span><span class="op">(</span><span class="va">photoNames</span> <span class="op">%&lt;&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>newPhotoName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">Code</span>, <span class="st">"_"</span>, <span class="fu">str_pad</span><span class="op">(</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span>, pad <span class="op">=</span> <span class="fl">0</span>,width <span class="op">=</span> <span class="fl">3</span> , <span class="st">"left"</span><span class="op">)</span>,<span class="st">"_ind.jpg"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   rawPhotoNames                  newPhotoName</span></span>
<span><span class="co">## 1     test1.jpg BR_BR2_06_11_2024_001_ind.jpg</span></span>
<span><span class="co">## 2     test2.jpg BR_BR2_06_11_2024_002_ind.jpg</span></span>
<span><span class="co">## 3     test3.jpg BR_BR2_06_11_2024_003_ind.jpg</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**Check that everything is as expected.*</span></span>
<span><span class="co">#*</span></span>
<span><span class="co">#**INPUT NEEDED*</span></span>
<span><span class="co">#if everything is okay, store this table in a file to keep track of old and new photo names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">photoNames</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"exports"</span>, <span class="st">"photoNames_BR_BR2_06_11_2024.csv"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now rename the photos based on the code defined. The files will be
copied to your folder of choice, so that the original photo still
exists. <em>A copy of the photos will be renamed now</em></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED*</span></span>
<span><span class="co">#set the path to the folder where your photos will be put</span></span>
<span><span class="va">pathToFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>, <span class="st">"dataRenamed"</span><span class="op">)</span></span>
<span><span class="co"># for this example, the path is set inside the package using here(). You may replace it with the full path where your renamed photos will be, e.g.:</span></span>
<span><span class="co"># pathToFolder &lt;- file.path("C:/Users/John/Downloads/newFolder")</span></span>
<span></span>
<span><span class="co"># Photos are renamed during this step.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToPhotos</span>, <span class="va">photoNames</span><span class="op">$</span><span class="va">rawPhotoName</span><span class="op">)</span>,  <span class="va">pathToFolder</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE TRUE TRUE</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.rename</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToFolder</span>, <span class="va">photoNames</span><span class="op">$</span><span class="va">rawPhotoName</span><span class="op">)</span>,</span>
<span>              to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToFolder</span>, <span class="va">photoNames</span><span class="op">$</span><span class="va">newPhotoName</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE TRUE TRUE</span></span></code></pre>
<p>Done! Go ahead and generate the table for ARW (step 2)</p>
</div>
</div>
<div class="section level2">
<h2 id="step-2-prep-the-bulk-import-table">Step 2: prep the Bulk Import table<a class="anchor" aria-label="anchor" href="#step-2-prep-the-bulk-import-table"></a>
</h2>
<p>Now create the table that you will upload into ARW along with the
photos</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#**INPUT NEEDED* </span></span>
<span><span class="co">#set the path to the renamed photos if you did not already set it when renaming the photos</span></span>
<span><span class="va">pathToFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="op">)</span>, <span class="st">"dataRenamed"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#set the list of the photo names</span></span>
<span><span class="op">(</span><span class="va">photoNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">pathToFolder</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "BR_BR2_06_11_2024_001_ind.jpg" "BR_BR2_06_11_2024_002_ind.jpg"</span></span>
<span><span class="co">## [3] "BR_BR2_06_11_2024_003_ind.jpg" "BR_BR2_06112024.csv"</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Make sure that this is the list of photos that you want to import</span></span>
<span></span>
<span><span class="co">#Create a table with the photo names</span></span>
<span><span class="va">BatchImportdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Encounter.mediaAsset0 <span class="op">=</span> <span class="va">photoNames</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">#**INPUT NEEDED**</span></span>
<span><span class="co"># Extract details from the photo name</span></span>
<span><span class="co"># Change the submitterID to your ARW login</span></span>
<span><span class="co"># if this is the first time ever that this site is prospected, and you are confident that there are no duplicates in your photos, you can assign individual names without recognition (= each photo is set to a new individual name) by setting MarkedID = T.</span></span>
<span><span class="op">(</span><span class="va">BatchImportdf_ready</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/photo2batchimport.html">photo2batchimport</a></span><span class="op">(</span><span class="va">BatchImportdf</span>,</span>
<span>                                         submitterID <span class="op">=</span> <span class="st">"YourLoginARW"</span>,</span>
<span>                                         MarkedID <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Expected 7 pieces. Missing pieces filled with `NA` in 1 rows</span></span>
<span><span class="co">## [4].</span></span></code></pre>
<pre><code><span><span class="co">##           Encounter.mediaAsset0 Encounter.day Encounter.month Encounter.year</span></span>
<span><span class="co">## 1 BR_BR2_06_11_2024_001_ind.jpg            06              11           2024</span></span>
<span><span class="co">## 2 BR_BR2_06_11_2024_002_ind.jpg            06              11           2024</span></span>
<span><span class="co">## 3 BR_BR2_06_11_2024_003_ind.jpg            06              11           2024</span></span>
<span><span class="co">## 4           BR_BR2_06112024.csv  06112024.csv            &lt;NA&gt;           &lt;NA&gt;</span></span>
<span><span class="co">##   Encounter.locationID Encounter.verbatimLocality    Encounter.sightingID</span></span>
<span><span class="co">## 1            Brequigny                     BR_BR2         BR_BR2_06112024</span></span>
<span><span class="co">## 2            Brequigny                     BR_BR2         BR_BR2_06112024</span></span>
<span><span class="co">## 3            Brequigny                     BR_BR2         BR_BR2_06112024</span></span>
<span><span class="co">## 4            Brequigny                     BR_BR2 BR_BR2_06112024.csvNANA</span></span>
<span><span class="co">##     Encounter.alternateID Encounter.genus Encounter.specificEpithet</span></span>
<span><span class="co">## 1        BR2_06112024_001      Salamandra                salamandra</span></span>
<span><span class="co">## 2        BR2_06112024_002      Salamandra                salamandra</span></span>
<span><span class="co">## 3        BR2_06112024_003      Salamandra                salamandra</span></span>
<span><span class="co">## 4 BR2_06112024.csvNANA_NA      Salamandra                salamandra</span></span>
<span><span class="co">##   Encounter.project0.researchProjectName Encounter.submitterID</span></span>
<span><span class="co">## 1                        Salamandres BZH          YourLoginARW</span></span>
<span><span class="co">## 2                        Salamandres BZH          YourLoginARW</span></span>
<span><span class="co">## 3                        Salamandres BZH          YourLoginARW</span></span>
<span><span class="co">## 4                        Salamandres BZH          YourLoginARW</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make sure the final table is as expected</span></span>
<span></span>
<span><span class="co"># Save the table for export - Change the file name to your needs. It will be exported in the same file as the photos.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">BatchImportdf_ready</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">pathToFolder</span>, <span class="st">"BR_BR2_06112024.csv"</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>Congratulations, this set of photos is ready for upload on ARW!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nadège Belouard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
